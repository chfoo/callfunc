<xml>
    <files id="haxe">
        <compilerflag value="-I${this_dir}/out/libffi/destdir/include/" if="callfunc_unit_test" />
        <compilerflag value="-I${this_dir}/src/c/" unless="haxelib:callfunc||windows"/>
        <compilerflag value="/I${this_dir}/src/c/" if="windows" unless="haxelib:callfunc"/>
        <compilerflag value="-I${haxelib:callfunc}/src/c/" if="haxelib:callfunc" unless="windows" />
        <compilerflag value="/I${haxelib:callfunc}/src/c/" if="haxelib:callfunc windows" />
        <file name="${this_dir}/src/c/callfunc.c" />
    </files>
    <target id="haxe">
        <lib name="-lffi" unless="windows"/>
        <lib base="libffi" if="windows"/>
        <flag value="-L${this_dir}/out/libffi/destdir/lib/" if="callfunc_unit_test" />
    </target>
</xml>
